---
import "@fontsource-variable/work-sans";
import "../styles/global.css";
import { Image } from "astro:assets";
import mainLogo from "../images/logos/logo-viviyanez.png";
import blogLogo from "../images/logos/blog-viviyanez.png";
import Navigation from "../components/Navigation.astro";
import Social from "../components/Social.astro";
import ToggleTheme from "../components/ToggleTheme.astro";
import { Icon } from "astro-icon/components";
import { ClientRouter, fade, slide } from "astro:transitions";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <ClientRouter />
  </head>
  <body>
    <header>
      <div class="header__icons">
        <Social platform="github" username="vivitt" />
        <Social platform="linkedin" username="in/viviana-yanez" />
        <ToggleTheme />
      </div>
      <div class="header__navigation">
        <a href="/"
          >{
            title === "Vivi's Blog" ? (
              <Image src={blogLogo} alt="Vivi's Blog" width="550" />
            ) : (
              <Image src={mainLogo} alt="viviyanez.dev" width="550" />
            )
          }
        </a>
        <Navigation />
      </div>
    </header>
    <main>
      <slot />
    </main>
    <footer>
      <div class="footer__links">
        <p>Find me on:</p>
        <a href="https://www.linkedin.com/in/viviana-yanez/" target="_blank"
          ><Icon name="linkedin" />LinkedIn
        </a>

        <a href="https://github.com/vivitt" target="_blank"
          ><Icon name="github" />GitHub
        </a>

        <a href="https://bsky.app/profile/viviyanez.bsky.social" target="_blank"
          ><Icon name="bsky" />Bluesky
        </a>

        <a href="https://x.com/yvivi_vi" target="_blank"><Icon name="x" />X </a>
      </div>
    </footer>
    <script>
      document.querySelector(".hamburger").addEventListener("click", () => {
        document.querySelector(".nav-links").classList.toggle("expanded");
      });
    </script>
  </body>
</html>
<style is:global>
  .header__icons {
    width: 150vh;
    display: flex;
    flex-flow: row nowrap;
    justify-content: end;
  }
  .header__navigation {
    display: flex;
    flex-direction: column;
    justify-content: end;
    align-items: center;
  }

  [data-style="wipe"] {
    animation-duration: 1.25s;
  }

  [data-style="wipe"] {
    animation-name: reveal-light;
  }

  [data-style="wipe"],
  [data-style="wipe"][data-theme="dark"] {
    animation: none;
  }

  [data-style="wipe"][data-theme="dark"] {
    animation-name: reveal-dark;
  }
  @keyframes reveal-dark {
    from {
      clip-path: polygon(-30% 0, -30% 0, -15% 100%, -10% 115%);
    }

    to {
      clip-path: polygon(-30% 0, 130% 0, 115% 100%, -10% 115%);
    }
  }

  @keyframes reveal-light {
    from {
      clip-path: polygon(130% 0, 130% 0, 115% 100%, 110% 115%);
    }

    to {
      clip-path: polygon(130% 0, -30% 0, -15% 100%, 110% 115%);
    }
  }
</style>
